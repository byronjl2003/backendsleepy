
<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 400px;
        width: 100%;
       }
    </style>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjptyNKD76g3d4w6-oyBegeXphPsNUx84&callback=initMap">
    </script>

    <script>
    $(document).ready(function() {

        //alert("HOLA");



      window.initMap = function() {
        var uluru = {lat: -25.363, lng: 131.044};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
          map: map
        });
        window.addmarker = function(c1,c2){
            var latLng2 = new google.maps.LatLng(c1,c2);
            var marker2 = new google.maps.Marker({
              position: latLng2,
              map: map
            });
          }
          var obj = {co1: {la:14.643002, ln:-90.5602},co2: {la:14.637345,ln:-90.54593}};
          var cord1 =0;
          var cord2 =0;
          var keyglobal;
    window.walk = function(obj) {

      console.log("ENTRO!")
      for (var key in obj) {
          console.log("key:"+key);
          //entero = entero+1;
          if (obj.hasOwnProperty(key)) {
            if(key == 'co')
            {
              console.log("es un cord");
              var val = obj[key];
              console.log(val);
              window.walk(val);
            }
            else if(key == 'la')
            {
              console.log("es un lat");
              var val = obj[key];
              cord1 = val;
              console.log(cord1);
              window.walk(val);
            }
            else if(key == 'ln') {
              console.log("es un lon");
              var val = obj[key];
              cord2 = val;
              console.log(cord2);
              window.addmarker(cord1,cord2);
              window.walk(val);
            }
            else {
              console.log("ninguno");
              var val = obj[key];
              console.log(val);
              window.walk(val);
            }

        }

      }
      //console.log("entero: "+entero);
      //console.log("entero2: "+entero2);


    }
    window.ask = function(){
      //alert("HOLA");
      $.get( "http://g16ecysusac.tk/phpfolder/mapaapi.php", function( data ) {
          //$( ".result" ).html( data );
          //$('#divjson').html(data);
            //alert( "Load was performed." );
            window.walk(data);
      });
    }


    window.ask();


      }






/*
      window.eqfeed_callback = function(results) {
        //var latLng = new google.maps.LatLng(coords[1],coords[0]);
        var latLng = new google.maps.LatLng(14.643002,-90.5602);
        var marker = new google.maps.Marker({
          position: latLng,
          map: map
        });
        var latLng2 = new google.maps.LatLng(31.573853,-102.22291);
        var marker2 = new google.maps.Marker({
          position: latLng2,
          map: map
        });
      }*/
/*
      var obj = {cord: {lat:14.643002, lon:-90.5602},cord:{lat:14.637345,lon:-90.54593}};
      var latLng;
      var marker;
      function walk(obj) {

  console.log("ENTRO!")
  for (var key in obj) {
      console.log("key:"+key);
      //entero = entero+1;
      if (obj.hasOwnProperty(key)) {

      var val = obj[key];
      if(key == 'cord')
      {
        console.log("es un cord");
      }
      else if(key == 'lat')
      {
        console.log("es un lat");
      }
      else if(key == 'lon') {
        console.log("es un lon");
      }
      else {
        console.log("ninguno");
      }
      console.log(val);
      walk(val);
    }
  }
  //console.log("entero: "+entero);
  //console.log("entero2: "+entero2);


}
walk(obj);
*/
/*
      window.eqfeed_callback = function(results) {
        for (var i = 0; i < results.features.length; i++) {
          var coords = results.features[i].geometry.coordinates;
          var latLng = new google.maps.LatLng(coords[1],coords[0]);
          var marker = new google.maps.Marker({
            position: latLng,
            map: map
          });
        }
      }

*/
/*

      var obj = {co1: {la:14.643002, ln:-90.5602},co2: {la:14.637345,ln:-90.54593}};
      var cord1 =0;
      var cord2 =0;
      var keyglobal;
function walk(obj) {

  console.log("ENTRO!")
  for (var key in obj) {
      console.log("key:"+key);
      //entero = entero+1;
      if (obj.hasOwnProperty(key)) {
        if(key == 'co')
        {
          console.log("es un cord");
          var val = obj[key];
          console.log(val);
          walk(val);
        }
        else if(key == 'la')
        {
          console.log("es un lat");
          var val = obj[key];
          cord1 = val;
          console.log(cord1);
          walk(val);
        }
        else if(key == 'ln') {
          console.log("es un lon");
          var val = obj[key];
          cord2 = val;
          console.log(cord2);
          //var latLng = new google.maps.LatLng(14.643002,-90.5602);
          //var marker = new google.maps.Marker({
            //position: latLng,
            //map: map
          //});
          //console.log(val);

          walk(val);
        }
        else {
          console.log("ninguno");
          var val = obj[key];
          console.log(val);
          walk(val);
        }

    }

  }
  //console.log("entero: "+entero);
  //console.log("entero2: "+entero2);


}
walk(obj);

*/
//var latLng = new google.maps.LatLng(14.643002,-90.5602);
//var marker = new google.maps.Marker({
  //position: latLng,
  //map: map
//});
/*
window.eqfeed_callback = function(results) {
  for (var i = 0; i < results.features.length; i++) {
    var coords = results.features[i].geometry.coordinates;
    var latLng = new google.maps.LatLng(coords[1],coords[0]);
    var marker = new google.maps.Marker({
      position: latLng,
      map: map
    });
  }
}
*/

//console.log("entero: "+entero);
//console.log("entero2: "+entero2);
  /*    var obj = {a: 1, b: 2, c: 3};

for (var prop in obj) {
  console.log(`obj.${prop} = ${obj[prop]}`);
}

*/
    //$.ajax({
      //  url: "http://g16ecysusac.tk/phpfolder/PollutionApi.php?fecha=2017-10-17"
    //}).then(function(data) {
    //  $('#divjson').html("HOLA!!!"+JSON.stringify(data));
      // $('.greeting-id').append(Data.data1.id);
       //$('.greeting-content').append(Data.data2.id);
    //});
});
    </script>

  </head>
  <body>
    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script>

    </script>




       <div>
           <p class="greeting-id">The ID is </p>
           <p class="greeting-content">The content is </p>
       </div>


    <div id="divjson">
      <button type="submit" onclick="UserAction()">Search</button>
    </div>




  </body>
</html>
